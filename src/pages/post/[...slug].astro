---
import { getEntry, getCollection, render } from "astro:content";

export async function getStaticPaths() {
	const posts = await getCollection("publicPosts");

	return posts.map(post => {
		return {
			params: { slug: post.id },
		};
	});
}

const entry = await getEntry("publicPosts", Astro.params.slug);

const { title } = entry.data;
const { Content } = await render(entry);
---

<h1>{title}</h1>

<Content />
