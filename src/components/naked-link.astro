---
export type Props = astroHTML.JSX.AnchorHTMLAttributes;

const { href, ...props } = Astro.props;

if (href instanceof URL) {
	throw new Error("TextLink does not support URL objects. Use a string instead.");
}

if (!href) {
	throw new Error("TextLink requires a valid href attribute.");
}

const isExternal = href && (href.startsWith("http://") || href.startsWith("https://"));

if (isExternal) {
	props.target = "_blank";
	props.rel = "noopener noreferrer";
}
---

<a {href} {...props}>
	<slot />
</a>
