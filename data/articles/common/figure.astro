---
import { m } from "@/paraglide/messages";
import Zoom from "react-medium-image-zoom";
import PictureLqip, { type Props as PictureLqipProps } from "./picture-lqip.astro";

export interface Props extends PictureLqipProps {
	caption: string;
}

const { alt, image, caption } = Astro.props;
---

<figure data-figure>
	<Zoom
		client:visible
		a11yNameButtonZoom={m["image.zoom"]()}
		a11yNameButtonUnzoom={m["image.unzoom"]()}
		canSwipeToUnzoom={false}
	>
		<PictureLqip {alt} {image} />
	</Zoom>
	<figcaption data-figcaption={m["common.figure"]()}>{caption}</figcaption>
</figure>
